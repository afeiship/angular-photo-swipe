!function(){"use strict";angular.module("nx.widget",[])}(),function(){"use strict";angular.module("nx.widget").directive("photoSwipe",[function(){return{restrict:"E",scope:{cssClass:"@"},template:'<div class="nx-widget-photo-swipe {{cssClass}}"><div class="pswp photo-swipe" tabindex="-1" role="dialog" aria-hidden="true"><div class="pswp__bg"></div><div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div><div class="pswp__item"></div><div class="pswp__item"></div></div><div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter"></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button><button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button><button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div></div>'}}])}(),function(){"use strict";var t=angular.extend,s=angular.element;angular.module("nx.widget").factory("nxPhotoSwipe",["$rootScope","$timeout","$compile","$sce",function(i,e,o,p){function a(){d=t(i.$new(!0),l),r=d.element=o("<photo-swipe></photo-swipe>")(d),s(document.body).append(r)}function n(s){var i=t(d,s||{}),e=(i.index||0,document.querySelectorAll(".photo-swipe")[0]),o=[];i.images.forEach(function(t){o.push({src:t,w:size.width,h:size.height})});var p=new PhotoSwipe(e,PhotoSwipeUI_Default,o,{index:i.index,history:i.history,preload:i.preload});p.listen("gettingData",function(t,s){if(s.w<1||s.h<1){var i=new Image;i.onload=function(){s.w=this.width*size.rate.width,s.h=this.height*size.rate.height,p.invalidateCurrItems(),p.updateSize(!0)},i.src=s.src}}),p.init()}var d,r,l={cssClass:"",history:!1,index:0,size:{width:1,heigh:1},preload:!0};return a(),{init:a,show:n}}])}();