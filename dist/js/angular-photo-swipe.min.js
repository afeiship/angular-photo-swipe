!function(){"use strict";angular.module("nx.widget",[])}(),function(){"use strict";angular.module("nx.widget").directive("photoSwipe",[function(){return{restrict:"E",scope:{cssClass:"@"},template:'<div class="nx-widget-photo-swipe {{cssClass}}"><div class="pswp photo-swipe" tabindex="-1" role="dialog" aria-hidden="true"><div class="pswp__bg"></div><div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div><div class="pswp__item"></div><div class="pswp__item"></div></div><div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter"></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button><button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button><button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div></div>'}}])}(),function(){"use strict";var t=angular.extend,i=angular.element;angular.module("nx.widget").factory("nxPhotoSwipe",["$rootScope","$timeout","$compile","$sce",function(s,e,o,p){function n(){d=t(s.$new(!0),r),l=d.element=o("<photo-swipe></photo-swipe>")(d),i(document.body).append(l)}function a(i){var s=t(d,i||{}),e=(s.index||0,document.querySelectorAll(".photo-swipe")[0]),o=[];s.images.forEach(function(t){o.push({src:t,w:size.width,h:size.height})});var p=new PhotoSwipe(e,PhotoSwipeUI_Default,o,{index:s.index,history:s.history,preload:s.preload});p.listen("gettingData",function(t,i){if(i.w<1||i.h<1){var e=new Image;e.onload=function(){i.w=this.width*s.ize.width,i.h=this.height*s.size.height,p.invalidateCurrItems(),p.updateSize(!0)},e.src=i.src}}),p.init()}var d,l,r={cssClass:"",history:!1,index:0,size:{width:1,heigh:1},preload:!0};return n(),{init:n,show:a}}])}();